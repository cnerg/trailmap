version: 2.1
orbs:
  coveralls: coveralls/coveralls@1.0.6
jobs:
  test_py3:
    docker:
      - image: cyclus/cycamore:latest
    steps:
      - checkout
      - run: pip install -U pytest networkx matplotlib scipy coverage coveralls
      - run: coverage run --source=./trailmap/ -m pytest
      - run: coverage report
      - run: coverage html
      - run: coveralls

workflows:
  testing:
    jobs:
      - test_py3
